{
  "$comment": "Integrity Ledger Entry Schema | AEIP-Schema-1.0-2025-11",
  "$comment:license": "CC BY-NC-ND 4.0",
  "$comment:integrity": "Version hash: TBD | Generated: 2025-05-09T00:00:00Z",
  "$comment:metadata": "Version: 1.0.0 | Timestamp: 2025-05-09T00:00:00Z | Author: Repository Architect | Signature: Pending governance signature.",
  "@context": {
    "schema": "https://schema.org/",
    "artifact_type": "schema:Text",
    "version": "schema:Text",
    "uuid": "schema:Text",
    "timestamp": "schema:DateTime",
    "layer": "schema:Integer",
    "issuer": "schema:Organization",
    "summary": "schema:Text",
    "linked_artifacts": {
      "@id": "schema:Thing",
      "@container": "@set"
    },
    "signature": "schema:DigitalDocument",
    "provenance": "schema:CreativeWork",
    "hash": "schema:Text",
    "previous_entry": "schema:Text"
  },
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Integrity Ledger Entry",
  "description": "JSON-LD schema for AEIP Integrity Ledger Entry artifacts recording notarized governance events with temporal sequencing controls.",
  "type": "object",
  "required": [
    "artifact_type",
    "version",
    "uuid",
    "timestamp",
    "layer",
    "issuer",
    "summary",
    "hash",
    "previous_entry",
    "linked_artifacts",
    "signature",
    "provenance"
  ],
  "properties": {
    "artifact_type": {
      "type": "string",
      "const": "IntegrityLedgerEntry",
      "$comment": "Designates this record as a ledger event maintaining AEIP chain-of-custody." 
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "$comment": "Semantic version identifying the ledger entry template iteration." 
    },
    "uuid": {
      "type": "string",
      "pattern": "^(urn:uuid:)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$",
      "$comment": "Mandatory UUIDv4 identifier for ledger indexing." 
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "$comment": "UTC timestamp ensuring temporal sequencing fidelity." 
    },
    "layer": {
      "type": "integer",
      "minimum": 1,
      "maximum": 7,
      "$comment": "Identifies the AI OSI Stack layer that generated the ledger entry." 
    },
    "issuer": {
      "type": "object",
      "required": ["name", "role", "organization", "contact"],
      "properties": {
        "name": { "type": "string" },
        "role": { "type": "string" },
        "organization": { "type": "string" },
        "contact": { "type": "string", "format": "uri" }
      },
      "additionalProperties": false,
      "$comment": "Identifies the ledger service or authority responsible for the entry." 
    },
    "summary": {
      "type": "string",
      "$comment": "Concise explanation of the governance event being notarized." 
    },
    "hash": {
      "type": "string",
      "pattern": "^[A-Fa-f0-9]{64}$",
      "$comment": "Hex-encoded SHA-256 hash binding the entry to its payload content." 
    },
    "previous_entry": {
      "type": "string",
      "anyOf": [
        {
          "type": "string",
          "pattern": "^(urn:uuid:)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"
        },
        {
          "type": "string",
          "enum": ["GENESIS"]
        }
      ],
      "$comment": "UUID of the prior ledger entry or GENESIS for the initial record." 
    },
    "linked_artifacts": {
      "type": "array",
      "minItems": 1,
      "items": {
        "anyOf": [
          {
            "type": "string",
            "pattern": "^(urn:uuid:)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"
          },
          {
            "type": "string",
            "format": "uri"
          }
        ]
      },
      "$comment": "Artifacts or evidence packages notarized by the ledger entry." 
    },
    "signature": {
      "type": "object",
      "required": ["method", "key_id", "value"],
      "properties": {
        "method": { "type": "string" },
        "key_id": { "type": "string" },
        "value": { "type": "string" }
      },
      "additionalProperties": false,
      "$comment": "Cryptographic binding of the ledger entry to an issuing authority." 
    },
    "provenance": {
      "type": "object",
      "required": ["source_system", "collection_method", "jurisdiction"],
      "properties": {
        "source_system": { "type": "string" },
        "collection_method": { "type": "string" },
        "jurisdiction": { "type": "string" },
        "confidence": { "type": "string" }
      },
      "additionalProperties": false,
      "$comment": "Documents chain-of-custody context for temporal integrity enforcement." 
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "artifact_type": "IntegrityLedgerEntry",
      "version": "1.0.0",
      "uuid": "urn:uuid:553e4567-e89b-42d3-a456-426614174040",
      "timestamp": "2025-05-09T13:00:00Z",
      "layer": 7,
      "issuer": {
        "name": "Integrity Ledger Custodian",
        "role": "Layer 7 Custodian",
        "organization": "AI Governance Council",
        "contact": "https://governance.example.org/custodian/ledger"
      },
      "summary": "Ledger entry notarizing release 2025.05 oversight artifacts and deployment authorization.",
      "hash": "A3F5C6D7E8F90123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123",
      "previous_entry": "urn:uuid:443e4567-e89b-42d3-a456-426614174030",
      "linked_artifacts": [
        "urn:uuid:333e4567-e89b-42d3-a456-426614174020",
        "urn:uuid:443e4567-e89b-42d3-a456-426614174030"
      ],
      "signature": {
        "method": "Ed25519",
        "key_id": "did:example:governance-keys#ledger-custodian",
        "value": "MGYCMQ..."
      },
      "provenance": {
        "source_system": "Integrity Ledger Service",
        "collection_method": "Automated notarization with human oversight",
        "jurisdiction": "Global",
        "confidence": "Authoritative"
      }
    }
  ]
}
