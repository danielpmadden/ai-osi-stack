<!-- SPDX-License-Identifier: CC-BY-SA-4.0 -->

# Contributing Guidelines

Thank you for supporting the AI OSI Stack. This project coordinates civic governance, provenance, and security controls. To maintain canonical integrity, all contributors must follow the rules below.

## Development Workflow

1. Fork the repository and create a feature branch.
2. Run the baseline checks before submitting a pull request:
   - `npm ci && npm run lint`
   - `npm test`
   - `pytest`
   - `./ops/inventory/inventory.sh`
   - `./ops/sbom/syft-sbom.sh`
   - `./ops/secrets/run-gitleaks.sh`
3. Update `INTEGRITY_NOTICE.md` whenever a normative artifact (PDF, tarball, ledger entry) changes. Include updated hashes and signature references.
4. Attach SBOM and inventory artifacts to release pull requests.

## Developer Certificate of Origin (DCO)

All commits must be signed off. Use `git commit -s` to append the `Signed-off-by` trailer. Contributions without a valid DCO signature will be rejected.

## Canonical Provenance

- Releases are signed using detached signatures generated by `ops/release/sign.sh`.
- `CANONICAL_PROVENANCE.yaml` tracks the current authoritative metadata. Update this file only as part of a coordinated release.
- Forks are non-canonical unless an explicit delegation is documented in `INTEGRITY_NOTICE.md`.

## Testing Expectations

- Python code: adhere to `pytest` and include coverage for new governance rules.
- TypeScript code: run `npm test` (Vitest) and ensure linting passes.
- Docker images: scan using `ops/container/trivy-image-scan.sh` before publication.

## Pull Request Checklist

- [ ] DCO sign-off present on every commit.
- [ ] Inventory regenerated (`ops/inventory/file-inventory.json`).
- [ ] SBOM regenerated (`ops/sbom/cyclonedx.json`, `ops/sbom/spdx.json`).
- [ ] Integrity hashes updated if artifacts changed.
- [ ] Added/updated documentation for operational processes.

By contributing you agree to follow the security policy in [`SECURITY.md`](SECURITY.md) and respect canonical governance decisions recorded in AEIP receipts.
